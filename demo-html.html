<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Metrics Report (junit) - Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'gray': {
                900: '#1a1d21',
                800: '#272b30',
                700: '#3c4147',
                400: '#9ca3af',
                300: '#d1d5db',
                200: '#e5e7eb',
              }
            }
          }
        }
      }
    </script>
</head>
<body class="bg-gray-900 text-gray-300 antialiased">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">
        <div class="max-w-5xl mx-auto bg-gray-800 rounded-xl shadow-lg p-6 md:p-8">

            <!-- Section: Test Execution Details -->
            <section class="mb-8">
                <h2 id="execution-details-title" class="text-xl font-semibold mb-4 text-gray-200 border-b border-gray-700 pb-2 flex items-center"><span class="text-xl mr-3">üìÑ</span>Test Execution Details</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full text-left">
                        <thead>
                            <tr>
                                <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Status</th>
                                <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Count</th>
                                <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Percentage</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-700">
                            <tr>
                                <td class="py-3 px-4 text-green-400 font-semibold flex items-center"><span class="w-3 h-3 bg-green-400 rounded-full mr-3"></span>Passed</td>
                                <td class="py-3 px-4" id="passed-count">12</td>
                                <td class="py-3 px-4" id="passed-percentage">85.7%</td>
                            </tr>
                            <tr id="failed-row" style="display: table-row;">
                                <td class="py-3 px-4 text-red-400 font-semibold flex items-center"><span class="w-3 h-3 bg-red-400 rounded-full mr-3"></span>Failed</td>
                                <td class="py-3 px-4" id="failed-count">2</td>
                                <td class="py-3 px-4" id="failed-percentage">14.3%</td>
                            </tr>
                            <tr id="skipped-row" style="display: none;">
                                <td class="py-3 px-4 text-gray-400 font-semibold flex items-center"><span class="w-3 h-3 bg-gray-400 rounded-full mr-3"></span>Skipped</td>
                                <td class="py-3 px-4" id="skipped-count">0</td>
                                <td class="py-3 px-4" id="skipped-percentage">0.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Metrics Table -->
            <div class="overflow-x-auto mb-8">
                <table class="min-w-full text-left">
                    <thead>
                        <tr>
                            <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Metric</th>
                            <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Current</th>
                            <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Previous</th>
                            <th class="py-3 px-4 text-sm font-medium text-gray-400 uppercase tracking-wider">Trend</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-700">
                        <tr>
                            <td class="py-3 px-4 flex items-center"><span class="text-green-400 mr-3">‚ñ†</span>Tests</td>
                            <td class="py-3 px-4">14 tests</td>
                            <td class="py-3 px-4">12</td>
                            <td class="py-3 px-4"><span class="bg-red-900/70 text-red-300 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">üìà +16.7%</span></td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 flex items-center"><span class="text-green-400 mr-3">‚úì</span>Pass Rate</td>
                            <td class="py-3 px-4 font-semibold text-yellow-400">85.7%</td>
                            <td class="py-3 px-4">100.0%</td>
                            <td class="py-3 px-4"><span class="bg-green-900/70 text-green-300 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">üìâ -14.3%</span></td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 flex items-center"><span class="text-blue-400 mr-3">‚óè</span>Duration</td>
                            <td class="py-3 px-4">125.32s</td>
                            <td class="py-3 px-4">98.45s</td>
                            <td class="py-3 px-4"><span class="bg-red-900/70 text-red-300 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">üìà +27.3%</span></td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 flex items-center"><span class="text-blue-400 mr-3">‚óè</span>Avg Duration</td>
                            <td class="py-3 px-4">8.95s</td>
                            <td class="py-3 px-4">‚Äî</td>
                            <td class="py-3 px-4">‚Äî</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 flex items-center"><span class="text-yellow-400 mr-3">‚ö°Ô∏è</span>Flaky</td>
                            <td class="py-3 px-4">1</td>
                            <td class="py-3 px-4">0</td>
                            <td class="py-3 px-4"><span class="bg-blue-900/70 text-blue-300 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">‚û°Ô∏è New</span></td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 align-top">
                                <div class="flex items-center"><span class="mr-3">üêå</span>Slowest Test</div>
                                <div class="text-sm text-gray-400 mt-1 pl-7">Integration ‚Ä∫ Database Connection Test</div>
                            </td>
                            <td class="py-3 px-4 font-semibold text-gray-200 align-top">45.23s</td>
                            <td class="py-3 px-4 align-top">‚Äî</td>
                            <td class="py-3 px-4 align-top">‚Äî</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 align-top">
                                <div class="flex items-center"><span class="mr-3">üìä</span>Performance Insights</div>
                                <div class="text-sm text-gray-400 mt-1 pl-7">Duration increased significantly, check for performance regressions</div>
                            </td>
                            <td class="py-3 px-4 align-top">‚Äî</td>
                            <td class="py-3 px-4 align-top">‚Äî</td>
                            <td class="py-3 px-4 align-top">‚Äî</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Footer -->
            <footer class="mt-8 pt-4 border-t border-gray-700">
                <p class="text-xs text-gray-500 italic">Job summary generated at ${new Date().toLocaleString()}</p>
            </footer>

        </div>
    </div>

    <script>
        // Dynamic title update demo
        document.addEventListener('DOMContentLoaded', () => {
            const testResults = {
                passed: 12,
                failed: 2, 
                skipped: 0,
                durationInSeconds: 125.32
            };

            const totalTests = testResults.passed + testResults.failed + testResults.skipped;
            const executionTitleEl = document.getElementById('execution-details-title');
            
            // Format duration
            const totalSeconds = testResults.durationInSeconds;
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = (totalSeconds % 60).toFixed(2);
            const durationFormatted = `${minutes}m ${seconds.toString().padStart(5, '0')}s`;

            // Update Title with dynamic data
            executionTitleEl.innerHTML = `<span class="text-xl mr-3">üìÑ</span>Test Execution Details (<span class="text-white font-bold">${testResults.passed}/${totalTests}</span>&nbsp;<span class="text-white">Passed</span>) <span class="text-white font-bold">[${durationFormatted}]</span>`;
        });
    </script>

</body>
</html>
